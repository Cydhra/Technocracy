buildscript {
    repositories {
        mavenCentral()
        jcenter()
        maven { url = "https://files.minecraftforge.net/maven" }
    }
    dependencies {
        classpath group: 'net.minecraftforge.gradle', name: 'ForgeGradle', version: forge_plugin_version
        classpath group: 'org.jetbrains.kotlin', name: 'kotlin-gradle-plugin', version: kotlin_version
    }
}

allprojects {
    // plugins
    apply plugin: 'kotlin'

    // artifact configuration
    version = mod_version
    group = "net.cydhra.technocracy"

    // compiler configuration
    compileKotlin {
        kotlinOptions.jvmTarget = jvm_target
    }

    // repositories
    repositories {
        jcenter()
        maven {
            name 'Forgelin Maven'
            url 'https://maven.shadowfacts.net/'
        }
        maven {
            name 'CoFH Maven'
            url 'https://maven.covers1624.net'
        }
        maven {
            name = "Jei maven"
            url = "https://dvs1.progwml6.com/files/maven/"
        }
        maven {
            name "zerocore"
            url "http://maven.zerono.it/"
        }
    }
}

subprojects {
    // plugins
    apply plugin: 'net.minecraftforge.gradle.forge'

    // dependencies
    dependencies {
        compile group: 'net.shadowfacts', name: 'Forgelin', version: forgelin_version
        compile group: 'org.jgrapht', name: 'jgrapht-core', version: jgrapht_version

        deobfCompile group: 'mezz.jei', name: "jei_$minecraft_version", version: jei_version

        deobfCompile group: 'cofh', name: 'CoFHCore', version: "$minecraft_version-$cofhcore_version",
                classifier: 'universal'
        deobfCompile group: 'cofh', name: 'CoFHWorld', version: "$minecraft_version-$cofhworld_version",
                classifier: 'universal'
        deobfCompile group: 'cofh', name: 'RedstoneFlux', version: "1.12-$redstoneflux_version",
                classifier: 'universal'
        deobfCompile group: "it.zerono.mods.zerocore", name: "zerocore", version: "1.12-0.1.1.0"
    }

    // forge configuration
    minecraft {
        version = "$minecraft_version-$forge_version"
        runDir = "run"
        mappings = mappings_version
    }
}